import React, { useState, useRef, useEffect } from 'react';
import { languages } from './Languages';

function FindOut() {

const containerRef = useRef(null)
const [animationState, setAnimationState] = useState("paused")


    const displayFindOut = e => {
        const selectedLanguage = e.target.alt;
        let title = languages[selectedLanguage].title;
        let findOutText = languages[selectedLanguage].findOutInfo;
        document.getElementById("info").innerHTML = findOutText
        document.getElementById("find-out-title").innerHTML = title
        document.getElementById("svg-logo1").style.display= "none"
        document.getElementById("find-out-info").style.display= "block"
    }
    
    const languageImages = []
        for (const language in languages){
            languageImages.push(
                <img
                key={language}
                className="logo"
                alt={language}
                src={languages[language].image}
                role="button"
                onClick={displayFindOut}
                />
            )
        }

    const options = {
        root: null,
        rootMargin: "0px",
        threshold: 1.0
    }

    useEffect(() => {

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    containerRef.current.style.animationPlayState = 'running';
                    observer.unobserve(entry.target); // Stop observing once animated
                 }
            });
         }, options);

    
        observer.observe(containerRef.current); 




    }, [containerRef, options] )
    



    
    return (

    <div>
        <section class="tools-section">
            <h2>What tools do we use to create?</h2>
            <div class="logo-wrapper">
            {languageImages}
            </div>
            <div>
                <p id='click-to-find-out'>Click to find out</p>
            </div>
        </section>
        <section class="svg-section" >
            <section class="find-out-wrapper">
                
                <svg  id="svg-logo1"  style={{ animationPlayState: 'paused' }} width="621" height="285" viewBox="0 0 621 285" fill="none" xmlns="http://www.w3.org/2000/svg" ref={containerRef}>


                <path  d="M66.84 98.416C64.28 100.037 61.2933 101.317 57.88 102.256C54.4667 103.195 50.8827 103.664 47.128 103.664C39.448 103.664 33.5173 101.701 29.336 97.776C25.1547 93.7653 23.064 88.3467 23.064 81.52V44.912H8.08799V34.416H23.064V19.312L37.4 17.648V34.416H60.312L58.648 44.912H37.4V81.392C37.4 85.0613 38.3387 87.792 40.216 89.584C42.0933 91.2907 45.08 92.144 49.176 92.144C53.6987 92.144 57.88 91.0773 61.72 88.944L66.84 98.416Z" stroke="white" stroke-width="5"/>

                <path d="M99.046 72.816C99.4727 79.3867 101.35 84.336 104.678 87.664C108.091 90.9067 112.358 92.528 117.478 92.528C120.635 92.528 123.622 92.0587 126.438 91.12C129.339 90.096 132.283 88.6027 135.27 86.64L141.414 95.344C138.257 97.9893 134.545 100.037 130.278 101.488C126.011 102.939 121.531 103.664 116.838 103.664C106.513 103.664 98.4913 100.464 92.774 94.064C87.0567 87.5787 84.198 78.96 84.198 68.208C84.198 61.4667 85.4353 55.408 87.91 50.032C90.3847 44.5707 93.9687 40.304 98.662 37.232C103.355 34.16 108.817 32.624 115.046 32.624C124.006 32.624 131.089 35.6533 136.294 41.712C141.585 47.6853 144.23 55.92 144.23 66.416C144.23 68.976 144.102 71.1093 143.846 72.816H99.046ZM115.174 43.248C110.566 43.248 106.811 44.912 103.91 48.24C101.009 51.568 99.3447 56.5173 98.918 63.088H130.278C130.107 56.688 128.742 51.7813 126.182 48.368C123.622 44.9547 119.953 43.248 115.174 43.248Z" stroke="white" stroke-width="5"/>

                <path d="M196.532 91.888C201.908 91.888 207.455 89.968 213.172 86.128L219.7 95.344C216.713 97.904 213.129 99.952 208.948 101.488C204.767 102.939 200.457 103.664 196.02 103.664C185.695 103.664 177.631 100.507 171.828 94.192C166.025 87.792 163.124 79.2587 163.124 68.592C163.124 61.68 164.447 55.536 167.092 50.16C169.737 44.6987 173.535 40.432 178.484 37.36C183.519 34.2027 189.449 32.624 196.276 32.624C205.236 32.624 213.044 35.3547 219.7 40.816L213.044 49.776C207.583 46.0213 202.079 44.144 196.532 44.144C190.9 44.144 186.463 46.192 183.22 50.288C179.977 54.2987 178.356 60.4 178.356 68.592C178.356 76.6133 179.977 82.5013 183.22 86.256C186.463 90.0107 190.9 91.888 196.532 91.888Z" stroke="white" stroke-width="5"/>

                <path d="M254.978 42.736C257.709 39.408 260.866 36.8907 264.45 35.184C268.119 33.4773 271.959 32.624 275.97 32.624C282.199 32.624 286.893 34.3733 290.05 37.872C293.207 41.2853 294.786 46.2347 294.786 52.72V102H280.45V54.896C280.45 50.8853 279.682 48.0267 278.146 46.32C276.61 44.528 274.135 43.632 270.722 43.632C267.735 43.632 264.834 44.6133 262.018 46.576C259.287 48.4533 256.941 50.8 254.978 53.616V102H240.642V7.408L254.978 5.87199V42.736Z" stroke="white" stroke-width="5"/>

                <path d="M370.384 102H352.976L344.272 36.592L335.184 102H317.52L306.256 13.68H320.592L327.504 87.664L336.976 23.92H352.208L361.04 87.664L369.232 13.68H382.544L370.384 102Z" stroke="white" stroke-width="5"/>

                <path d="M421.278 32.624C431.006 32.624 438.515 35.824 443.806 42.224C449.097 48.5387 451.742 57.1573 451.742 68.08C451.742 79.0027 449.054 87.664 443.678 94.064C438.302 100.464 430.793 103.664 421.15 103.664C411.422 103.664 403.87 100.549 398.494 94.32C393.203 88.0053 390.558 79.3013 390.558 68.208C390.558 57.456 393.246 48.8373 398.622 42.352C404.083 35.8667 411.635 32.624 421.278 32.624ZM421.278 43.76C416.073 43.76 412.147 45.7653 409.502 49.776C406.942 53.7867 405.662 59.9307 405.662 68.208C405.662 76.5707 406.942 82.7573 409.502 86.768C412.062 90.6933 415.945 92.656 421.15 92.656C426.355 92.656 430.238 90.6507 432.798 86.64C435.358 82.6293 436.638 76.4427 436.638 68.08C436.638 59.8027 435.358 53.7013 432.798 49.776C430.238 45.7653 426.398 43.76 421.278 43.76Z" stroke="white" stroke-width="5"/>

                <path d="M518.764 32.752C522.263 32.752 525.676 33.3067 529.004 34.416L526.572 59.376H516.332V45.552C511.639 45.6373 507.543 47.5147 504.044 51.184C500.631 54.8533 497.9 60.016 495.852 66.672V91.76H509.42V102H471.532V91.76H481.516V44.656H471.532V34.416H492.396L494.956 50.032C497.601 44.2293 500.801 39.92 504.556 37.104C508.396 34.2027 513.132 32.752 518.764 32.752Z" stroke="white" stroke-width="5"/>

                <path d="M562.362 102H548.026V7.28L562.362 5.616V102ZM579.898 64.624L609.978 102H592.442L563.386 65.008L590.522 34.416H607.162L579.898 64.624Z" stroke="white" stroke-width="5"/>

                <path d="M5.39999 267.648H69.4V279.424H5.39999V267.648Z" stroke="white" stroke-width="5"/>

                <path d="M146.022 231.04C146.022 236.331 144.657 240.981 141.926 244.992C139.281 249.003 135.398 252.117 130.278 254.336C125.243 256.555 119.227 257.664 112.23 257.664C98.5767 257.664 87.7393 253.739 79.718 245.888L87.91 236.8C94.566 242.944 102.673 246.016 112.23 246.016C117.521 246.016 121.873 244.779 125.286 242.304C128.785 239.829 130.534 236.331 130.534 231.808C130.534 229.163 129.979 226.944 128.87 225.152C127.846 223.36 126.054 221.781 123.494 220.416C120.934 218.965 117.265 217.515 112.486 216.064C102.673 213.163 95.462 209.707 90.854 205.696C86.246 201.685 83.942 196.395 83.942 189.824C83.942 185.131 85.222 180.992 87.782 177.408C90.4273 173.739 94.054 170.923 98.662 168.96C103.27 166.912 108.475 165.888 114.278 165.888C126.139 165.888 135.995 169.429 143.846 176.512L136.038 185.344C129.979 180.139 123.025 177.536 115.174 177.536C110.395 177.536 106.513 178.517 103.526 180.48C100.625 182.443 99.174 185.259 99.174 188.928C99.174 191.232 99.7713 193.195 100.966 194.816C102.246 196.437 104.337 197.931 107.238 199.296C110.225 200.576 114.406 202.027 119.782 203.648C128.315 206.208 134.801 209.493 139.238 213.504C143.761 217.515 146.022 223.36 146.022 231.04Z" stroke="white" stroke-width="5"/>

                <path d="M220.34 252.416C217.78 254.037 214.793 255.317 211.38 256.256C207.967 257.195 204.383 257.664 200.628 257.664C192.948 257.664 187.017 255.701 182.836 251.776C178.655 247.765 176.564 242.347 176.564 235.52V198.912H161.588V188.416H176.564V173.312L190.9 171.648V188.416H213.812L212.148 198.912H190.9V235.392C190.9 239.061 191.839 241.792 193.716 243.584C195.593 245.291 198.58 246.144 202.676 246.144C207.199 246.144 211.38 245.077 215.22 242.944L220.34 252.416Z" stroke="white" stroke-width="5"/>

                <path d="M254.978 235.648C254.978 239.573 255.746 242.432 257.282 244.224C258.903 245.931 261.335 246.784 264.578 246.784C267.65 246.784 270.594 245.888 273.41 244.096C276.311 242.304 278.615 240.043 280.322 237.312V188.416H294.658V256H282.242L281.346 247.296C278.957 250.624 275.842 253.184 272.002 254.976C268.162 256.768 264.194 257.664 260.098 257.664C253.613 257.664 248.749 255.915 245.506 252.416C242.263 248.917 240.642 243.925 240.642 237.44V188.416H254.978V235.648Z" stroke="white" stroke-width="5"/>

                <path d="M371.408 161.28V256H358.736L357.712 247.68C355.493 250.923 352.763 253.397 349.52 255.104C346.277 256.811 342.693 257.664 338.768 257.664C330.32 257.664 323.963 254.507 319.696 248.192C315.429 241.877 313.296 233.216 313.296 222.208C313.296 215.296 314.363 209.152 316.496 203.776C318.715 198.4 321.829 194.219 325.84 191.232C329.851 188.16 334.587 186.624 340.048 186.624C346.96 186.624 352.635 189.099 357.072 194.048V159.616L371.408 161.28ZM343.76 197.632C338.811 197.632 335.013 199.68 332.368 203.776C329.808 207.787 328.528 213.931 328.528 222.208C328.528 238.592 333.221 246.784 342.608 246.784C348.24 246.784 353.061 243.541 357.072 237.056V205.184C353.573 200.149 349.136 197.632 343.76 197.632Z" stroke="white" stroke-width="5"/>

                <path d="M421.15 155.264C423.881 155.264 426.099 156.16 427.806 157.952C429.598 159.659 430.494 161.792 430.494 164.352C430.494 166.912 429.598 169.045 427.806 170.752C426.099 172.459 423.881 173.312 421.15 173.312C418.334 173.312 416.073 172.459 414.366 170.752C412.659 169.045 411.806 166.912 411.806 164.352C411.806 161.707 412.659 159.531 414.366 157.824C416.158 156.117 418.419 155.264 421.15 155.264ZM431.006 245.504H449.438V256H396.574V245.504H416.67V198.912H397.214V188.416H431.006V245.504Z" stroke="white" stroke-width="5"/>

                <path d="M498.028 186.624C507.756 186.624 515.265 189.824 520.556 196.224C525.847 202.539 528.492 211.157 528.492 222.08C528.492 233.003 525.804 241.664 520.428 248.064C515.052 254.464 507.543 257.664 497.9 257.664C488.172 257.664 480.62 254.549 475.244 248.32C469.953 242.005 467.308 233.301 467.308 222.208C467.308 211.456 469.996 202.837 475.372 196.352C480.833 189.867 488.385 186.624 498.028 186.624ZM498.028 197.76C492.823 197.76 488.897 199.765 486.252 203.776C483.692 207.787 482.412 213.931 482.412 222.208C482.412 230.571 483.692 236.757 486.252 240.768C488.812 244.693 492.695 246.656 497.9 246.656C503.105 246.656 506.988 244.651 509.548 240.64C512.108 236.629 513.388 230.443 513.388 222.08C513.388 213.803 512.108 207.701 509.548 203.776C506.988 199.765 503.148 197.76 498.028 197.76Z" stroke="white" stroke-width="5"/>

                <path d="M572.218 246.784C576.741 246.784 580.282 245.973 582.842 244.352C585.487 242.731 586.81 240.512 586.81 237.696C586.81 235.733 586.426 234.155 585.658 232.96C584.89 231.68 583.354 230.528 581.05 229.504C578.746 228.395 575.29 227.243 570.682 226.048C563.258 224.171 557.669 221.781 553.914 218.88C550.245 215.893 548.41 211.627 548.41 206.08C548.41 200.192 550.842 195.499 555.706 192C560.57 188.416 567.141 186.624 575.418 186.624C585.402 186.624 593.978 189.227 601.146 194.432L595.002 203.52C588.943 199.509 582.543 197.504 575.802 197.504C567.269 197.504 563.002 199.979 563.002 204.928C563.002 206.635 563.471 208.043 564.41 209.152C565.434 210.261 567.141 211.328 569.53 212.352C571.919 213.291 575.461 214.4 580.154 215.68C587.493 217.728 592.954 220.245 596.538 223.232C600.207 226.219 602.042 230.699 602.042 236.672C602.042 243.584 599.183 248.832 593.466 252.416C587.749 255.915 580.666 257.664 572.218 257.664C561.039 257.664 551.781 254.507 544.442 248.192L551.994 239.488C554.81 241.707 557.925 243.499 561.338 244.864C564.837 246.144 568.463 246.784 572.218 246.784Z" stroke="white" stroke-width="5"/>
                </svg>

                <h1 id="find-out-title"></h1>
                <div id="find-out-info">
                        <p id='info'></p>
                </div>
            </section>
        </section>
    </div>
    )
}


export default FindOut;